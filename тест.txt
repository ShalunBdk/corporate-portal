:local tunnel1 "ipip-bskrst-nskavt";
:local tunnel2 "ipip-bskrst-mskavt";
:local sfpInterface "sfp-sfpplus2";
:local downtime 10m;
:local restartCount 0;
:local maxRestarts 4;
:global checkTunnels do={
    :local tunnel1Status [/interface get [find name=$tunnel1] running];
    :local tunnel2Status [/interface get [find name=$tunnel2] running];
    if(($tunnel1Status = false) && ($tunnel2Status = false)) do={ return "Stop" }
        :set restartCount ($restartCount+1);
        if($restartCount >= $maxRestarts) do={
            :log info "Tunnels bskrst-nskavt and bskrst-mskavt off.Restart try $restartCount"
            :log info "TEST Disable $sfpInteface for $downtime"
            :delay $downtime
            :log info "TEST Enable $sfpInteface"
            :delay 1m;
            $checkTunnels
        } else={ :set restartCount 0 }
    }
$checkTunnels

/inteface get [find name "ipip-bskrst-nskavt"] running